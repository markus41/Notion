graph TB
    subgraph "Application Layer"
        WebApp["Web Application<br/>(React)"]
        API["Orchestration API<br/>(.NET)"]
        Agents["Agent Runtime<br/>(Python)"]
    end

    subgraph "Instrumentation"
        OTel["OpenTelemetry SDK<br/>---<br/>• W3C Trace Context<br/>• Auto-instrumentation<br/>• Custom spans"]
    end

    subgraph "Azure Monitor Platform"
        subgraph "Application Insights"
            Traces["Distributed Traces<br/>---<br/>End-to-end request flow<br/>Cross-service correlation"]
            Metrics["Metrics<br/>---<br/>Performance counters<br/>Custom metrics<br/>SLA tracking"]
            Logs["Logs<br/>---<br/>Structured logging<br/>Log Analytics KQL<br/>Search & filter"]
            Exceptions["Exceptions<br/>---<br/>Error tracking<br/>Stack traces<br/>Aggregation"]
        end

        subgraph "Azure Monitor"
            Alerts["Alerts<br/>---<br/>Metric alerts<br/>Log alerts<br/>Smart detection"]
            Dashboards["Dashboards<br/>---<br/>Custom KPIs<br/>SLA metrics<br/>Business metrics"]
            Workbooks["Workbooks<br/>---<br/>Interactive reports<br/>Troubleshooting<br/>Capacity planning"]
        end
    end

    subgraph "Alerting & Incident Management"
        ActionGroups["Action Groups<br/>---<br/>Email, SMS, Webhook<br/>Logic Apps, Functions"]
        OnCall["On-Call Rotation<br/>---<br/>PagerDuty, Opsgenie<br/>Escalation policies"]
        Runbooks["Automated Runbooks<br/>---<br/>Auto-remediation<br/>Diagnostic scripts"]
    end

    subgraph "Real-Time Monitoring"
        SignalR["SignalR Hub<br/>---<br/>Live execution updates<br/>Real-time metrics<br/>Event streaming"]
        WebSockets["WebSocket<br/>Connections"]
    end

    subgraph "Business Intelligence"
        PowerBI["Power BI<br/>---<br/>Executive dashboards<br/>Trend analysis<br/>Forecasting"]
        DataExplorer["Azure Data Explorer<br/>---<br/>Time-series analysis<br/>Anomaly detection<br/>Advanced analytics"]
    end

    WebApp -->|Traces, Metrics, Logs| OTel
    API -->|Traces, Metrics, Logs| OTel
    Agents -->|Traces, Metrics, Logs| OTel

    OTel -->|OTLP Protocol| Traces
    OTel -->|OTLP Protocol| Metrics
    OTel -->|OTLP Protocol| Logs
    OTel -->|OTLP Protocol| Exceptions

    Traces --> Alerts
    Metrics --> Alerts
    Logs --> Alerts
    Exceptions --> Alerts

    Alerts --> ActionGroups
    ActionGroups --> OnCall
    ActionGroups --> Runbooks

    Traces --> Dashboards
    Metrics --> Dashboards
    Logs --> Workbooks

    API -->|Real-time events| SignalR
    SignalR -->|WebSocket| WebSockets
    WebSockets --> WebApp

    Metrics -.->|Export| PowerBI
    Logs -.->|Export| DataExplorer
    Traces -.->|Export| DataExplorer

    classDef app fill:#3b82f6,stroke:#2563eb,color:#fff,stroke-width:2px
    classDef telemetry fill:#8b5cf6,stroke:#7c3aed,color:#fff,stroke-width:2px
    classDef storage fill:#10b981,stroke:#059669,color:#fff,stroke-width:2px
    classDef alerting fill:#ef4444,stroke:#dc2626,color:#fff,stroke-width:2px
    classDef realtime fill:#f59e0b,stroke:#d97706,color:#000,stroke-width:2px
    classDef analytics fill:#ec4899,stroke:#db2777,color:#fff,stroke-width:2px

    class WebApp,API,Agents app
    class OTel telemetry
    class Traces,Metrics,Logs,Exceptions storage
    class Alerts,ActionGroups,OnCall,Runbooks alerting
    class SignalR,WebSockets realtime
    class PowerBI,DataExplorer analytics
